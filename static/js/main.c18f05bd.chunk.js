(this.webpackJsonpwavey=this.webpackJsonpwavey||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),c=n(6),a=n.n(c),i=(n(12),n(2)),s=(n(13),n(7)),u=n(0),h=function(e){var t=e.f,n=e.setF,r=Object(o.useState)("#7c9dd6"),c=Object(i.a)(r,2),a=c[0],h=(c[1],Object(o.useState)(100)),f=Object(i.a)(h,2),l=f[0],d=f[1],j=Object(o.useState)(!0),b=Object(i.a)(j,2),O=b[0],g=b[1];var p=new AudioContext;function v(e){return fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return p.decodeAudioData(e)})).then((function(e){return m(function(e){var t=Math.pow(Math.max.apply(Math,Object(s.a)(e)),-1);return e.map((function(e){return e*t}))}(x(e)))}))}var x=function(e){for(var t=e.getChannelData(0),n=l,o=Math.floor(t.length/n),r=[],c=0;c<n;c++){for(var a=o*c,i=0,s=0;s<o;s++)i+=Math.abs(t[a+s]);r.push(i/o)}return r},m=function(e){var t=document.querySelector("canvas"),n=window.devicePixelRatio;t.width=t.offsetWidth*n,t.height=(t.offsetHeight+40)*n;var o=t.getContext("2d");o.scale(n,n),o.translate(0,t.offsetHeight/2+20);for(var r=!0===O?w:y,c=t.offsetWidth/e.length,a=0;a<e.length;a++){var i=c*a,s=e[a]*t.offsetHeight-20;s<0?s=0:s>t.offsetHeight/2&&(s=s>t.offsetHeight/2),r(o,i,s,c,(a+1)%2)}},y=function(e,t,n,o,r){e.lineWidth=900/l,e.strokeStyle=a,e.beginPath(),n=r?n:-n,e.moveTo(t,0),e.lineTo(t,n),e.arc(t+o/2,n,o/2,Math.PI,0,r),e.lineTo(t+o,0),e.stroke()},w=function(e,t,n,o){e.lineWidth=900/l,e.strokeStyle=a,e.lineCap="round",e.beginPath(),e.moveTo(t+o/2,-n),e.lineTo(t+o/2,n),e.stroke()};return Object(u.jsxs)("div",{className:"Input",children:["Let's choose a file! ",Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"file",accept:"audio/*",onChange:function(e){return function(e){console.log(e);var t=URL.createObjectURL(e[0]);n(t),document.getElementById("audio").load(),v(t)}(e.target.files)}}),Object(u.jsx)("br",{}),Object(u.jsxs)("audio",{id:"audio",controls:!0,autoPlay:!0,children:[Object(u.jsx)("source",{src:t}),"Oops, your browser doesn't support audio?"]}),Object(u.jsxs)("div",{className:"parameters",children:[Object(u.jsx)("input",{type:"range",min:"50",max:"300",className:"slider",onChange:function(e){return d(e.target.value)},onMouseUp:function(e){return v(t)}}),Object(u.jsx)("input",{type:"checkbox",defaultChecked:!0,onChange:function(e){return g(!O)},onMouseUp:function(e){return v(t)}}),Object(u.jsx)("body",{children:O})]})]})};var f=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h1",{children:"\ud83c\udf0aWaveform Visualizer\ud83c\udf0a"}),Object(u.jsx)("br",{}),Object(u.jsx)("code",{children:Object(u.jsx)(h,{f:n,setF:r})}),Object(u.jsx)("canvas",{}),Object(u.jsxs)("code",{class:"bottom",children:["written by Max Zhang, ",Object(u.jsx)("a",{href:"https://github.com/chetbae",rel:"noreferrer",target:"_blank",children:"GitHub"})]})]})},l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,o=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),r(e),c(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),l()}},[[15,1,2]]]);
//# sourceMappingURL=main.c18f05bd.chunk.js.map